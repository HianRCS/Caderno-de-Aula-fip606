{
  "hash": "773fe4bab75ba29de6b1f43acbbbca11",
  "result": {
    "markdown": "---\ntitle: \"Datapasta e Tabelas\"\nformat: html\neditor: visual\nwarning: false\nmensage: false\n---\n\n\n## Usando o datapasta\n\nO datapasta é um pacote R e um add-in do RStudio que facilita a cópia e colagem de dados entre o R e outras fontes, como planilhas, sites e o terminal.\n\n\n::: {.cell hash='aula4_cache/html/unnamed-chunk-1_e6661ebd287df4f484d43ab600f24842'}\n\n```{.r .cell-code}\ndat <- data.frame(c(\"comp\", \"9\", \"12.5\", \"10\", \"8\", \"13.2\", \"11\", \"10.8\", \"9.5\", \"10.8\", \"10.4\", \"13.72\", \"15.91\", \"15.7\", \"14.2\", \"15.9\", \"16.54\", \"18\", \"14.4\", \"16.41\", \"16\"))\n\n\n\n\ndat\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   c..comp....9....12.5....10....8....13.2....11....10.8....9.5...\n1                                                             comp\n2                                                                9\n3                                                             12.5\n4                                                               10\n5                                                                8\n6                                                             13.2\n7                                                               11\n8                                                             10.8\n9                                                              9.5\n10                                                            10.8\n11                                                            10.4\n12                                                           13.72\n13                                                           15.91\n14                                                            15.7\n15                                                            14.2\n16                                                            15.9\n17                                                           16.54\n18                                                              18\n19                                                            14.4\n20                                                           16.41\n21                                                              16\n```\n:::\n\n```{.r .cell-code}\ntibble::tribble(\n      ~trat, ~rep, ~comp,\n      \"Mg2\",   1L,     9,\n      \"Mg2\",   2L,  12.5,\n      \"Mg2\",   3L,    10,\n      \"Mg2\",   4L,     8,\n      \"Mg2\",   5L,  13.2,\n      \"Mg2\",   6L,    11,\n      \"Mg2\",   7L,  10.8,\n      \"Mg2\",   8L,   9.5,\n      \"Mg2\",   9L,  10.8,\n      \"Mg2\",  10L,  10.4,\n  \"control\",   1L, 13.72,\n  \"control\",   2L, 15.91,\n  \"control\",   3L,  15.7,\n  \"control\",   4L,  14.2,\n  \"control\",   5L,  15.9,\n  \"control\",   6L, 16.54,\n  \"control\",   7L,    18,\n  \"control\",   8L,  14.4,\n  \"control\",   9L, 16.41,\n  \"control\",  10L,    16\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 3\n   trat      rep  comp\n   <chr>   <int> <dbl>\n 1 Mg2         1   9  \n 2 Mg2         2  12.5\n 3 Mg2         3  10  \n 4 Mg2         4   8  \n 5 Mg2         5  13.2\n 6 Mg2         6  11  \n 7 Mg2         7  10.8\n 8 Mg2         8   9.5\n 9 Mg2         9  10.8\n10 Mg2        10  10.4\n11 control     1  13.7\n12 control     2  15.9\n13 control     3  15.7\n14 control     4  14.2\n15 control     5  15.9\n16 control     6  16.5\n17 control     7  18  \n18 control     8  14.4\n19 control     9  16.4\n20 control    10  16  \n```\n:::\n:::\n\n\n## Copiando os Dados da Internet\n\nCopie tabelas HTML de sites e cole-as diretamente no R como um dataframe. O datapasta extrai os dados da tabela e os organiza em um dataframe estruturado.\n\nCopie dados tabulados (com separadores como vírgulas ou tabulações) e cole-os diretamente no R como um dataframe. O datapasta infere os nomes das colunas e os tipos de dados automaticamente.\n\n\n::: {.cell hash='aula4_cache/html/unnamed-chunk-2_3c68914c0ce7fa11ee5abc1aa5db2f54'}\n\n```{.r .cell-code}\nlibrary(pak)\n\n\n\nvisitas <- tibble::tribble(\n             ~V1,              ~V2, ~V3,\n              1L,      \"Argentina\",  1L,\n              2L,        \"Austria\",  1L,\n              3L,        \"Bolivia\",  1L,\n              4L,     \"Cape Verde\",  1L,\n              5L,          \"China\",  1L,\n              6L,          \"Egypt\",  1L,\n              7L,        \"Finland\",  1L,\n              8L,          \"India\",  1L,\n              9L,          \"Italy\",  1L,\n             10L,       \"Malaysia\",  1L,\n             11L,       \"Pakistan\",  1L,\n             12L,         \"Poland\",  1L,\n             13L,      \"Singapore\",  1L,\n             14L,    \"Timor-Leste\",  1L,\n             15L,        \"Uruguay\",  1L,\n             16L,          \"Chile\",  2L,\n             17L,       \"Paraguay\",  2L,\n             18L,           \"Peru\",  2L,\n             19L,        \"Ecuador\",  3L,\n             20L,         \"France\",  3L,\n             21L,    \"Netherlands\",  4L,\n             22L,        \"Germany\",  5L,\n             23L,        \"Hungary\",  5L,\n             24L, \"United Kingdom\",  5L,\n             25L,       \"Colombia\",  8L,\n             26L,      \"(not set)\", 12L,\n             27L,          \"Spain\", 16L,\n             28L,         \"Angola\", 19L,\n             29L,  \"United States\", 23L,\n             30L,       \"Portugal\", 33L,\n             31L,     \"Mozambique\", 43L,\n             32L, \"Brasil\", 4,\n             )\n```\n:::\n\n\n# Outros Dados da Internet\n\n\n::: {.cell hash='aula4_cache/html/unnamed-chunk-3_52add6e03fff92dad53d6bb6e699d911'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\npepper <- \n  tribble(\n   ~t,  ~`1`,  ~`2`,  ~`3`,\n   0,  0.08, 0.001, 0.001,\n   7,  0.13,  0.01, 0.001,\n  14,  0.78,  0.09,  0.01,\n  21,  0.92,  0.25,  0.05,\n  28,  0.99,   0.8,  0.18,\n  35, 0.995,  0.98,  0.34,\n  42, 0.999,  0.99,  0.48,\n  49, 0.999, 0.999,  0.74\n  ) \n\n\npepper |> \n  pivot_longer(2:4, \n               names_to =\"epidemic\", \n               values_to = \"inc\") |>\n  ggplot(aes(t, inc, color = epidemic))+\n  geom_point()+\n  geom_line()+\n  annotate(geom = \"text\",\n           x = 12, \n           y = 0.75,\n           label = \"1\")+\n  annotate(geom = \"text\",\n           x = 25, \n           y = 0.75,\n           label = \"2\")+\n  annotate(geom = \"text\",\n           x = 45, \n           y = 0.75,\n           label = \"3\")+\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](aula4_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n## Tabela de Contigência\n\nAs tabelas de contingência, também conhecidas como tabelas de frequência cruzada, são ferramentas estatísticas utilizadas para organizar e analisar a relação entre duas ou mais variáveis categóricas. Elas fornecem uma visão geral da frequência com que diferentes combinações de categorias ocorrem em um conjunto de dados.\n\n\n::: {.cell hash='aula4_cache/html/unnamed-chunk-4_c8a3b0eaf824bbe2d71120f31f9b0ff2'}\n\n```{.r .cell-code}\ncr <- read_csv(\"https://raw.githubusercontent.com/emdelponte/paper-coffee-rust-Ethiopia/master/data/survey_clean.csv\")\n\nlibrary(janitor)\ncr |>\n  tabyl(cultivar, farm_management)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n cultivar Intensive Minimal Moderate Unmanaged\n Improved        83       0        0         0\n    Local         0      10        4       102\n  Mixture        82      59       65         0\n```\n:::\n\n```{.r .cell-code}\nlibrary(ggthemes)\n\ncr |>\n  count(farm_management, cultivar) |>\n  ggplot(aes(cultivar, n, fill = farm_management,\n             label =n))+\n  geom_col(position = \"dodge2\")+\n  scale_fill_canva()+\n  theme_bw()+\n  theme(strip.text.x = element_blank(),\n  legend.position = \"top\")+\n  geom_text(position = position_dodge(width = 0.9)) +\n  facet_wrap(~cultivar, scales = \"free_x\")\n```\n\n::: {.cell-output-display}\n![](aula4_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Geom_errobar\n\nAs barras de erro, também conhecidas como error bars, são elementos gráficos que representam a incerteza ou variabilidade nos dados. Ao adicionar barras de erro aos seus gráficos, você pode comunicar informações valiosas sobre a confiabilidade dos seus resultados e facilitar a interpretação dos dados.\n\n\n::: {.cell hash='aula4_cache/html/unnamed-chunk-5_dcbb61deac2112b3e8a3e10168de69f5'}\n\n```{.r .cell-code}\nlibrary(gsheet)\n\nmg <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=983033137\")\n\nmg |>\n  ggplot(aes(trat, comp))+\n  geom_jitter(width = 0.1)\n```\n\n::: {.cell-output-display}\n![](aula4_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nmg |>\n  group_by(trat) |>\n  summarise(mean_comp = mean(comp),\n            sd_comp =sd(comp)) |>\n  ggplot(aes(trat, mean_comp))+\n  geom_point(size = 3)+\n  ylim(0, 20)+\n  geom_col(fill = \"steelblue\", width = 0.5)+\n  geom_errorbar(aes(ymin = mean_comp - sd_comp,\n                    ymax = mean_comp + sd_comp),\n                width = 0.02)+\n  annotate(geom = \"text\",\n           x = 1, y = 17.5,\n           label = \"*\")\n```\n\n::: {.cell-output-display}\n![](aula4_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}